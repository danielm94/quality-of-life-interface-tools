#Before opening the upgrade building macro window
custom_button = {
	name = build_building_macro_tab_window_closed
	tooltip = build_building_macro_closed_tt
	potential = {
		FROM = {
			NOT = {
				has_country_flag = build_building_macro_open
			}
		}
	}
	trigger = {
	}
	effect = {
		FROM = {
			set_country_flag = build_building_macro_open
			calculate_building_build_costs = yes
		}
	}
}

#After opening the upgrade building macro window
#We do this because the macro window obstructs the tab to open it.
custom_button = {
	name = build_building_macro_tab_window_opened
	tooltip = build_building_macro_open_tt
	potential = {
		FROM = {
			OR = {
				has_country_flag = upgrade_building_macro_open
				has_country_flag = build_building_macro_open
			}
		}
	}
	trigger = {
	}
	frame = {
		number = 1
		trigger = {
			NOT = {
				FROM = {
					has_country_flag = build_building_macro_open
				}
			}
		}
	}
	frame = {
		number = 2
		trigger = {
			FROM = {
				has_country_flag = build_building_macro_open
			}
		}
	}
	effect = {
		FROM = {
			if = {
				limit = {
					NOT = {
						has_country_flag = build_building_macro_open
					}
				}
				set_country_flag = build_building_macro_open
				clr_country_flag = upgrade_building_macro_open
			}
			else = {
				clr_country_flag = build_building_macro_open
			}
			calculate_building_build_costs = yes
		}
	}
}

custom_window = {
	name = build_building_macro_window
	potential = {
		FROM = {
			has_country_flag = build_building_macro_open
		}
	}
}

custom_button = {
	name = building_macro_build_marketplace
	tooltip = building_macro_build_marketplace_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_marketplace = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_trade_depot
	tooltip = building_macro_build_trade_depot_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_trade_depot = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_stock_exchange
	tooltip = building_macro_build_stock_exchange_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_stock_exchange = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_town_hall
	tooltip = building_macro_build_town_hall_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_town_hall = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_courthouse
	tooltip = building_macro_build_courthouse_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_courthouse = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_university
	tooltip = building_macro_build_university_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_university = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_dock
	tooltip = building_macro_build_dock_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_dock = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_drydock
	tooltip = building_macro_build_drydock_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_drydock = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_shipyard
	tooltip = building_macro_build_shipyard_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_shipyard = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_grand_shipyard
	tooltip = building_macro_build_grand_shipyard_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_grand_shipyard = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_workshop
	tooltip = building_macro_build_workshop_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_workshop = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_counting_house
	tooltip = building_macro_build_counting_house_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_counting_house = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_barracks
	tooltip = building_macro_build_barracks_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_barracks = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_training_fields
	tooltip = building_macro_build_training_fields_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_training_fields = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_regimental_camp
	tooltip = building_macro_build_regimental_camp_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_regimental_camp = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_conscription_center
	tooltip = building_macro_build_conscription_center_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_conscription_center = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_temple
	tooltip = building_macro_build_temple_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_temple = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_cathedral
	tooltip = building_macro_build_cathedral_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_cathedral = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_fort_15th
	tooltip = building_macro_build_fort_15th_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_fort_15th = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_fort_16th
	tooltip = building_macro_build_fort_16th_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_fort_16th = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_fort_17th
	tooltip = building_macro_build_fort_17th_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_fort_17th = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_fort_18th
	tooltip = building_macro_build_fort_18th_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_fort_18th = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_coastal_defence
	tooltip = building_macro_build_coastal_defence_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_coastal_defence = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_naval_battery
	tooltip = building_macro_build_naval_battery_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_naval_battery = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_manufactory
	tooltip = building_macro_build_manufactory_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_manufactory = yes
			any_owned_province = {
				can_build_manufactory = yes
				NOT = {
					has_construction = any
				}
				is_enabled_trade_good_manufactories_build_building_macro = yes
			}
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_ramparts
	tooltip = building_macro_build_ramparts_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_ramparts = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_impressment_offices
	tooltip = building_macro_build_impressment_offices_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_impressment_offices = yes
			any_owned_province = {
				is_enabled_trade_good_impressment_offices_build_building_macro = yes
			}
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_state_house
	tooltip = building_macro_build_state_house_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_state_house = yes
			any_owned_province = {
				is_enabled_trade_good_state_house_build_building_macro = yes
			}
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_soldier_households
	tooltip = building_macro_build_soldier_households_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_soldier_households = yes
			any_owned_province = {
				is_enabled_trade_good_soldiers_households_build_building_macro = yes
			}
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_build_furnace
	tooltip = building_macro_build_furnace_tt
	potential = {
	}
	trigger = {
		FROM = {
			can_afford_to_build_furnace = yes
		}
	}
	effect = {
	}
}

custom_button = {
	name = building_macro_settings_button
	tooltip = building_macro_settings_button_tt
	potential = {
	}
	trigger = {
		hidden_trigger = {
			FROM = {
				NOT = {
					has_country_flag = in_building_macro_settings
				}
			}
		}
	}
	effect = {
		hidden_effect = {
			FROM = {
				set_country_flag = in_building_macro_settings
				country_event = {
					id = building_macro_settings_events.1
				}
			}
		}
	}
}

custom_text_box = {
	name = build_building_marketplace_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_trade_depot_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_stock_exchange_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_town_hall_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_courthouse_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_university_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_dock_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_drydock_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_shipyard_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_grand_shipyard_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_workshop_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_counting_house_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_barracks_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_training_fields_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_regimental_camp_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_conscription_center_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_temple_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_cathedral_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_fort_15th_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_fort_16th_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_fort_17th_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_fort_18th_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_coastal_defence_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_naval_battery_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_manufactory_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_ramparts_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_impressment_offices_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_state_house_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_soldier_households_cost
	potential = {
	}
	tooltip = empty_text
}

custom_text_box = {
	name = build_building_furnace_cost
	potential = {
	}
	tooltip = empty_text
}